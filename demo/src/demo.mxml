<?xml version="1.0" encoding="utf-8"?>


<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
			   xmlns:s="library://ns.adobe.com/flex/spark"
			   xmlns:mx="library://ns.adobe.com/flex/mx" width="470" height="440" xmlns:local="*" preinitialize="preInit();">
	
	<fx:Metadata>
		[Event(name="jsonLoaded", type="flash.events.Event")]
	</fx:Metadata>
	
	<s:layout>
		<s:BasicLayout />
	</s:layout>
	<local:HeaderComponent id="header"/>
	<s:SkinnableContainer x="0" y="0" width="2" height="400" backgroundColor="#3B5998">
	</s:SkinnableContainer>

	<fx:Script>
		<![CDATA[
			import mx.managers.CursorManager;

			private var model:DataModel = null;
			private function onJsonLoaded():void{
				trace("On json loaded");
				CursorManager.removeBusyCursor();
			}
			public function preInit():void{
				CursorManager.setBusyCursor();
				model = DataModel.getInstance();
				CursorManager.removeBusyCursor();
			}
			public function addSlides():void {
				var slide:SlideComponent = new SlideComponent();
				slide.id = "slide1";
				viewstack1.addElement(slide);
			}
		]]>
	</fx:Script>
	
	<fx:Script>
		<![CDATA[
			public function moveToSlide(num:int):void {
				model.activity.currentSlide=num;
			}
		]]>
	</fx:Script>
	<!--initialize="addSlides();"-->
	<mx:ViewStack id="viewstack1" name="viewstack1" x="0" y="34" width="471" height="322" initialize="addSlides();">
	</mx:ViewStack>
	<local:SlidesChooserComponent/>
	<s:SkinnableContainer x="468" y="0" width="2" height="400" backgroundColor="#3B5998"
						  contentBackgroundColor="#3B5998">
	</s:SkinnableContainer>
	<local:TrailerComponent id="trailer"/>


	
</s:Application>

